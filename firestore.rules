/**
 * @fileoverview Firestore Security Rules for SkillFiesta.
 *
 * Core Philosophy:
 * This ruleset allows open access to the data without authentication.
 *
 * Data Structure:
 * - /users/{userId}: Stores user profiles. This collection is accessible by anyone.
 * - /saved_stories/{storyId}: Stores shared saved stories. This collection is accessible by anyone.
 *
 * Key Security Decisions:
 * - Authentication is disabled, allowing anyone to read and write to the database.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read and write to user profiles.
     * @path /users/{userId}
     * @allow (get, list)
     * @allow (create, update, delete)
     * @deny None
     * @principle No authentication is used.
     */
    match /users/{userId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows anyone to read and write to saved stories.
     * @path /saved_stories/{storyId}
     * @allow (get, list)
     * @allow (create, update, delete)
     * @deny None
     * @principle No authentication is used.
     */
    match /saved_stories/{storyId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}